{"version":3,"sources":["firebase.js","history.js","auth.js","PrivateRoute.js","components/Login.js","components/RequestModal.js","components/Header.js","components/MapImage.js","components/EntryModal.js","components/Paypal.js","components/ConfirmCompletionModal.js","components/TaskPanel.js","components/Home.js","components/Chat.js","components/Leaderboard.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","setPersistence","Auth","Persistence","SESSION","then","console","log","catch","error","errorCode","code","errorMessage","message","ui","firebaseui","AuthUI","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","currentUser","uiShown","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","createBrowserHistory","AuthContext","React","createContext","AuthProvider","children","useState","setCurrentUser","useEffect","onAuthStateChanged","user","history","push","Provider","value","PrivateRoute","props","Object","keys","map","keyName","keyIndex","to","Login","elementId","start","className","RequestModal","Date","requestDate","setRequestDate","currentForm","setCurrentForm","donationOptions","setDonationOptions","invalid_form","toast","position","autoClose","hideProgressBar","closeOnClick","draggable","progress","undefined","geoCodingService","require","mbxGeoCoding","accessToken","autoCompleteAddresses","setAutoCompleteAddresses","closeRequestModal","setShowRequestModal","addCategoryHighlight","event","document","querySelectorAll","forEach","node","classList","contains","remove","target","closest","add","formValidation","a","request_selected_category","querySelector","request_location_input","request_details_input","request_date_input","donation_amount","request_location_coords","forwardGeocode","query","mode","types","limit","proximity","send","response","match","body","isExactMatch","i","features","length","place_name","geometry","coordinates","request_category_input","textContent","today","posted_date","getFullYear","getMonth","getDate","uid","firestore","collection","category","coords","date","taskName","location","posterId","volunteerId","volunteers_accepted","volunteers_needed","status","completed","isDonating","parseInt","docRef","doc","set","requestId","id","requestsRef","addRequest","style","fontSize","fontFamily","placeholder","list","onChange","autocomplete","address","uniqid","data-enable-time","options","minDate","type","name","onClick","min","e","xmlns","width","height","viewBox","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","d","x1","y1","x2","y2","cx","cy","r","points","Header","showRequestModal","signOut","MapImage","mapContainer","useRef","lng","setLng","lat","setLat","zoom","setZoom","mapboxgl","workerClass","MapboxWorker","Map","container","current","center","requests","on","featuresArr","request","properties","title","description","entryId","marker","el","createElement","setAttribute","addEventListener","setScrollToEntry","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","getCenter","toFixed","getZoom","ref","withRouter","volunteer_date","entry_status","volunteersArr","closeEntryModal","currentEntryId","initValues","includes","temp","update","get","exists","Paypal","paypal","window","Buttons","createOrder","data","actions","err","order","create","intent","purchase_units","amount","currency_code","donationAmount","onApprove","capture","document_data","donations_raised","currentTask","setDisplayCompletionModal","onError","render","ConfirmCompletionModal","currentTaskCompletedEntry","donation","TaskPanel","displayPanelTab","setDisplayPanelTab","requestAttributes","setRequestAttributes","myRequestsAttributes","setMyRequestsAttributes","myTasksAttributes","setMyTasksAttribute","displayEntryModal","setDisplayEntryModal","setCurrentEntryId","setCurrentTaskCompletedEntry","setRequests","toggleSortByDate","setToggleSortByDate","toggleSortByVolunteerDate","setToggleSortByVolunteerDate","displayCompletionModal","setDisplayPanel","openEntryModal","filterCategory","arr","myRequests","myTasks","filteredRequests","filter","backgroundColor","innerHTML","scrollToEntry","panel","panelEntryId","substring","entryDiv","getElementById","scrollTop","offsetTop","offsetHeight","setTimeout","setScrollPosition","sortedRequests","sort","b","join","prev","showAllCategories","entry","stopPropagation","Home","setMyRequests","setMyTasks","onSnapshot","snapshot","requestObjArr","requestObj","myRequestsObjArr","docSnapshot","existingRequest","existingIndex","myTasksObjArr","Chat","chatGroups","setChatGroups","showChat","setShowChat","currentChat","setCurrentChat","currentChatMessages","setCurrentChatMessages","firestoreSnapshot","setFirestoreSnapshot","componentMounted","setComponentMounted","chatGroupRef","messageRef","loadMessages","Promise","resolve","reject","all","docs","msgQuery","orderBy","msgSnapshot","messageObj","chatGroupId","msgDoc","parent","copyArr","found","msgQueryResult","getAllChatGroups","highlightDiv","removeHighlight","newRequestArr","chat_window","getBoundingClientRect","setScrollHeight","obj","timestamp","chatGroup","msg","sender","text","onKeyDown","key","recipient","FieldValue","serverTimestamp","saveMessage","Leaderboard","leaderboardObj","setLeaderboardObj","leaderboardRef","copyObj","App","Consumer","userContext","path","exact","header","chat","home","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.20dc01f5.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport * as firebaseui from 'firebaseui';\nimport \"firebase/firestore\";\n\nconst app = firebase.initializeApp({\n\n  apiKey: \"AIzaSyDmj00TsgdwjngHDf2ZZFJn7hwMgF0qjdU\",\n  authDomain: \"volunteerme-5c67e.firebaseapp.com\",\n  projectId: \"volunteerme-5c67e\",\n  storageBucket: \"volunteerme-5c67e.appspot.com\",\n  messagingSenderId: \"925971761121\",\n  appId: \"1:925971761121:web:063cc355ed2f01ddc534a0\",\n  measurementId: \"G-E2DK8411R1\"\n\n});\n\napp.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).then(() => {\n\n    console.log(\"firebase app set persistence\");\n    // Existing and future Auth states are now persisted in the current\n    // session only. Closing the window would clear any existing state even\n    // if a user forgets to sign out.\n    // ...\n    // New sign-in will be persisted with session persistence.\n    return;// firebase.auth().signInWithEmailAndPassword(email, password);\n  })\n  .catch((error) => {\n    // Handle Errors here.\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    console.log(errorCode);\n    console.log(errorMessage);\n});\n\nlet ui = new firebaseui.auth.AuthUI(app.auth());\n\nconst uiConfig = {\n  callbacks: {\n    signInSuccessWithAuthResult: function(authResult, redirectUrl) {\n    \tconsole.log(\"User successfully signed in.\");\n    \tconsole.log(app.auth().currentUser);\n\n    \t//let user = app.auth().currentUser;\n    \t//App.setUser(user.displayName,user.email,user.photoURL,user.getToken);\n\n      // User successfully signed in.\n      // Return type determines whether we continue the redirect automatically\n      // or whether we leave that to developer to handle.\n      \n      return false;\n    },\n    uiShown: function() {\n      // The widget is rendered.\n      // Hide the loader.\n      //document.getElementById('loader').style.display = 'none';\n    }\n  },\n  // Will use popup for IDP Providers sign-in flow instead of the default, redirect.\n  signInFlow: 'popup',\n  signInSuccessUrl: '',\n  signInOptions: [\n    // Leave the lines as is for the providers you want to offer your users.\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n\n  ],\n};\n\nconst startFirebaseUI = (elementId) => {\n\n\tui.start(elementId, uiConfig);\n};\n\nexport { startFirebaseUI }\nexport default app;\n//export { base };\n","import {createBrowserHistory} from 'history';\nexport default createBrowserHistory();","import React, { useEffect, useState } from \"react\";\nimport app from \"./firebase.js\";\nimport history from './history.js';\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    app.auth().onAuthStateChanged((user) => { \n      \n    \tconsole.log(\"auth state changed\");\n      //console.log(user);\n\n      if(user)\n      {\n        setCurrentUser(user);\n      }\n\n    });\n  }, []);\n\n  useEffect(()=>{\n    if(currentUser !== null)\n    {\n      history.push(\"/home\");\n    }\n  },[currentUser]);\n\n  return (\n    <AuthContext.Provider value={{currentUser,}}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nconst PrivateRoute = (props) => {\n\n  return (\n    <div>\n      {\n        !(props.user.currentUser == null) ? \n          <div>\n          {\n            Object.keys(props.children).map(function(keyName,keyIndex){\n                return props.children[keyName]\n            })\n          }\n\n          </div> : \n        \n          <Redirect to={\"/login\"} />\n      }\n    </div>\n  );\n};\n\nexport default PrivateRoute;","import React from \"react\";\nimport {useEffect} from \"react\";\nimport {startFirebaseUI} from \"../firebase.js\";\nimport 'firebaseui/dist/firebaseui.css'\n\nfunction Login () {\n\n\tuseEffect(()=>{\n\t\tstartFirebaseUI('.firebase-auth-container');\n\t},[]);\n\n\treturn (\n\t\t<div className=\"Login\">\t\n\t\t\t<div className=\"firebase-auth-container\"></div>\n\t\t</div>\n\t)\n}\n\nexport default Login;","//import react from \"react\";\nimport \"flatpickr/dist/themes/material_green.css\";\nimport Flatpickr from \"react-flatpickr\";\nimport {useState,useEffect} from \"react\";\n\n//import mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\n// eslint-disable-next-line import/no-webpack-loader-syntax\n//import MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\nimport uniqid from \"uniqid\";\nimport {ToastContainer,toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport firebase from 'firebase/app'\n\n\n\nfunction RequestModal (props) {\n\n\tconsole.log(props.user);\n\n\tconst [requestDate,setRequestDate] = useState(new Date());\n\tconst [currentForm,setCurrentForm] = useState({});\n\tconst [donationOptions,setDonationOptions] = useState(false);\n\n\tconst invalid_form = (message) => toast.error(message, {\n\t\tposition: \"top-right\",\n\t\tautoClose: 3000,\n\t\thideProgressBar: false,\n\t\tcloseOnClick: true,\n\t\tdraggable: true,\n\t\tprogress: undefined,\n\t});\n\n\tlet styles = {\n\t\tfontSize: '20px',\n\t\tfontFamily: 'Noto Sans, sans-serif',\n\t}\n\t\n\tconst mbxGeoCoding = require('@mapbox/mapbox-sdk/services/geocoding');\n\tconst geoCodingService = mbxGeoCoding({ accessToken: 'pk.eyJ1IjoidGltb3RoeWxpbmcxOTk0IiwiYSI6ImNrbmZuOWFtbzFtM2YycG1pbTJkeWIwOXQifQ.Yhzp9YEOq_oqZPXQ28jKaw' });\n\n\tconst [autoCompleteAddresses, setAutoCompleteAddresses] = useState([]);\n\n\tconst autoCompleteLocation = (query) => {\n\t\tgeoCodingService.forwardGeocode({\n\t\t  query: `${query}`,\n\t\t  mode:\"mapbox.places\",\n\t\t  types:['country','address','region','postcode','place','locality','district','place','poi','neighborhood'],\n\t\t  autocomplete:true,\n\t\t  limit:5,\n\t\t  proximity: [-122.414, 37.776]\n\t\t})\n\t\t  .send()\n\t\t  .then(response => {\n\t\t    const match = response.body;\n\t\t    console.log(match);\n\t\t    setAutoCompleteAddresses(match.features);\n\t  \t});\n\t};\n\n\tconst closeRequestModal = () => {\n\t\tprops.setShowRequestModal(false);\n\t};\n\n\tconst addRequest = () => {\n\n\t\tif(Object.keys(currentForm).length !== 0)\n\t\t{\n\t\t\tlet today = new Date();\n\t\t\tlet posted_date = (today.getFullYear())+'-'+(today.getMonth()+1)+'-'+(today.getDate());\n\n\t\t\tconsole.log(\"token:\"+props.user.currentUser.uid);\n\n\t\t\tfirebase.firestore().collection('requests').add({\n\n\t\t\t\tcategory:currentForm.request_category_input,\n\t\t\t\tcoords:currentForm.request_location_coords,\n\t\t\t\tdate:currentForm.request_date_input,\n\t\t\t\ttaskName:currentForm.request_details_input,\n\t\t\t\tlocation:currentForm.request_location_input,\n\t\t\t\tposterId:props.user.currentUser.uid,\n\t\t\t\tvolunteerId:\"\",\n\t\t\t\tposted_date: posted_date,\n\t\t\t\tvolunteers_accepted:0,\n\t\t\t\tvolunteers_needed: 2,\n\t\t\t\tstatus:\"open\",\n\t\t\t\tcompleted:false,\n\t\t\t\tisDonating:donationOptions,\n\t\t\t\tdonation_amount:parseInt(currentForm.donation_amount),\n\n\t\t\t}).then((docRef)=>{\n\t\t\t\t//console.log(docRef.id);\n\t\t\t\tfirebase.firestore().collection('users').doc(props.user.currentUser.uid).collection('my_requests').doc().set({\n\t\t\t\t\trequestId: docRef.id,\n\t\t\t\t\trequestsRef: firebase.firestore().doc(\"requests/\"+docRef.id)\n\t\t\t\t});\n\t\t\t});\n\n\n\n\t\t\tcloseRequestModal();\n\t\t}\n\t};\n\n\tconst addCategoryHighlight = (event) => {\n\t\t\n\t\tlet nodelist = document.querySelectorAll(\".request-category-container\");\n\t\tnodelist.forEach(node=>{\n\t\t\tif(node.classList.contains(\"request-category-highlight\"))\n\t\t\t{\n\t\t\t\tnode.classList.remove(\"request-category-highlight\");\n\t\t\t}\n\t\t});\n\t\tevent.target.closest(\".request-category-container\").classList.add(\"request-category-highlight\");\n\t};\n\n\tconst formValidation = async () => {\n\n\t\tlet request_selected_category = document.querySelector(\".request-category-highlight\");\n\t\tlet request_location_input = document.querySelector(\".request-location-input\").value;\n\t\tlet request_details_input = document.querySelector(\".request-details-input\").value;\n\t\tlet request_date_input = document.querySelector(\".request-date-input\").value;\n\t\tlet donation_amount;\n\t\t\n\t\tif(donationOptions)\n\t\t{\n\t\t\tdonation_amount = document.querySelector(\".donation-amount\").value;\n\t\t\tconsole.log(donation_amount);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdonation_amount = \"0\";\n\t\t}\n\n\t\t\n\t\tlet request_location_coords = [];\n\n\t\tif(request_location_input !== '' && request_details_input !== '' && request_date_input !== '' && request_selected_category !== null)\n\t\t{\n\t\t\tlet response = await geoCodingService.forwardGeocode({\n\t\t\t  query: request_location_input,\n\t\t\t  mode:\"mapbox.places\",\n\t\t\t  types:['address','poi'],\n\t\t\t  limit:5,\n\t\t\t  proximity: [-122.414, 37.776]\n\t\t\t}).send();\n\n\t\t\tconst match = response.body;\n\n\t\t\tlet isExactMatch = false;\n\n\t\t    for (let i=0; i<match.features.length;i++)\n\t\t    {\n\t\t    \tif (match.features[i].place_name === request_location_input)\n\t\t    \t{\n\t\t    \t\tisExactMatch = true;\n\t\t    \t\trequest_location_coords = [...match.features[i].geometry.coordinates];\n\n\t\t    \t\tlet request_category_input = request_selected_category.textContent;\n\n\t\t    \t\tsetCurrentForm({\n\t\t\t\t\t\trequest_location_input,\n\t\t\t\t\t\trequest_details_input,\n\t\t\t\t\t\trequest_date_input,\n\t\t\t\t\t\trequest_category_input,\n\t\t\t\t\t\trequest_location_coords,\n\t\t\t\t\t\tdonation_amount,\n\t\t\t\t\t});\n\n\t\t    \t}\n\t\t    }\n\n\t\t    if(!isExactMatch)\n\t\t\t{\n\t\t\t\tinvalid_form('Invalid Address!');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\tif(request_location_input === '')\n\t\t\t{\n\t\t\t\tinvalid_form('Invalid Address!');\n\t\t\t}\n\n\t\t\tif(request_details_input === '')\n\t\t\t{\n\t\t\t\tinvalid_form('Invalid Details!');\n\t\t\t}\n\n\t\t\tif(request_date_input === '')\n\t\t\t{\n\t\t\t\tinvalid_form('Invalid Date!');\n\t\t\t}\n\t\t\tif(request_selected_category === null)\n\t\t\t{\n\t\t\t\tinvalid_form('Please select category!');\n\t\t\t}\n\n\t\t\tif(donationOptions && donation_amount === \"\")\n\t\t\t{\n\t\t\t\tinvalid_form('Please enter donation amount!');\n\t\t\t}\n\n\t\t}\t\n\t};\n\n\n\tuseEffect(()=>{\n\n\t\taddRequest();\n\n\t},[currentForm]);\n\n\t/*\n\t<div> \n\t\t\t\t\t\t\t\t<form className=\"charity-form\">\n\t\t\t\t\t\t\t\t\t<div className=\"charity-form-container\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"charity-form-btn-container\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"charity\" className=\"charity-options\" value=\"charity: water\"/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img src = {CharityWater} className=\"charity-options-pic\"></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"charity-form-container\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"charity-form-btn-container\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"charity\" className=\"charity-options\" value=\"Cancer Research Institute\"/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img src = {CancerResearch} className=\"charity-options-pic\"></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"charity-form-container\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"charity-form-btn-container\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"charity\" className=\"charity-options\" value=\"Africa Wildlife Foundation\"/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img src = {AfricanWildLife} className=\"charity-options-pic\"></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<div className=\"donation-amount-container\">\n\t\t\t\t\t\t\t\t\t<div className=\"donation-amount-label\">Donation Amount: $ </div>\n\t\t\t\t\t\t\t\t\t<input type=\"number\" min=\"5\" className=\"donation-amount\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t*/\n\n\treturn (\n\t\t<div className=\"RequestModal\">\n\t\t\t<ToastContainer style={styles}/>\n\t\t\t<div className=\"request-modal-container\">\n\t\t\t\t<div className=\"request-category-header\">What are you requesting?</div>\n\t\t\t\t<div className=\"request-details-container\">\n\t\t\t\t\t<div className=\"request-details-label\">Task:</div>\n\t\t\t\t\t<input className=\"request-details-input\" placeholder=\"Pick up my medication from the local CVS.\"></input>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"request-location-container\">\n\t\t\t\t\t<div className=\"request-location-label\">Location:</div>\n\t\t\t\t\t\n\t\t\t\t\t<input className=\"request-location-input\" list=\"locations\" placeholder=\"400 Brannan Street\" onChange={()=>{autoCompleteLocation(document.querySelector(\".request-location-input\").value)}}/>\n\n\t\t\t\t\t<datalist id=\"locations\">\n\t\t\t\t\t\t{autoCompleteAddresses.map((address)=>{\n\t\t\t\t\t\t\treturn <option key={uniqid()} value={address.place_name}/>\t\n\t\t\t\t\t\t})}\n\t\t\t\t\t</datalist>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"request-date-container\">\n\t\t\t\t\t<div className=\"request-date-label\">Date:</div>\n\t\t\t\t\t<Flatpickr\n\t\t\t\t        data-enable-time\n\t\t\t\t        value={requestDate}\n\t\t\t\t        className=\"request-date-input\"\n\t\t\t\t        options={{ minDate: new Date() }} \n\t\t\t\t        onChange={date => {\n\t\t\t\t          setRequestDate(date);\n\t\t\t\t        }}\n\t\t\t\t    />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"donation-container\">\n\t\t\t\t\t<div className=\"donation-option-label\">Donating?</div>\n\t\t\t\t\t<form className=\"donation-form\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"donation\" value=\"yes\" onClick={()=>{setDonationOptions(true)}}/><div className=\"donation-options\">Yes</div>\n\t\t\t\t\t\t<input type=\"radio\" name=\"donation\" value=\"no\" onClick={()=>{setDonationOptions(false)}}/><div className=\"donation-options\">No</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t{donationOptions ?\n\t\t\t\t\t\t\t\t<div className=\"donation-amount-container\">\n\t\t\t\t\t\t\t\t\t<div className=\"donation-amount-label\">Amount: $ </div>\n\t\t\t\t\t\t\t\t\t<input type=\"number\" min=\"5\" className=\"donation-amount\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t<div className=\"request-main-category-container\">\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-tools-kitchen-2\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <path d=\"M19 3v12h-5c-.023 -3.681 .184 -7.406 5 -12zm0 12v6h-1v-3m-10 -14v17m-3 -17v3a3 3 0 1 0 6 0v-3\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Groceries</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-pill\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <path d=\"M4.5 12.5l8 -8a4.94 4.94 0 0 1 7 7l-8 8a4.94 4.94 0 0 1 -7 -7\" />\n\t\t\t\t\t\t\t  <line x1=\"8.5\" y1=\"8.5\" x2=\"15.5\" y2=\"15.5\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Medicine</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-walk\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <circle cx=\"13\" cy=\"4\" r=\"1\" />\n\t\t\t\t\t\t\t  <line x1=\"7\" y1=\"21\" x2=\"10\" y2=\"17\" />\n\t\t\t\t\t\t\t  <path d=\"M16 21l-2 -4l-3 -3l1 -6\" />\n\t\t\t\t\t\t\t  <path d=\"M6 12l2 -3l4 -1l3 3l3 1\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Dog Walking</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-car\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <circle cx=\"7\" cy=\"17\" r=\"2\" />\n\t\t\t\t\t\t\t  <circle cx=\"17\" cy=\"17\" r=\"2\" />\n\t\t\t\t\t\t\t  <path d=\"M5 17h-2v-6l2 -5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Transportation</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-tools\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <path d=\"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4\" />\n\t\t\t\t\t\t\t  <line x1=\"14.5\" y1=\"5.5\" x2=\"18.5\" y2=\"9.5\" />\n\t\t\t\t\t\t\t  <polyline points=\"12 8 7 3 3 7 8 12\" />\n\t\t\t\t\t\t\t  <line x1=\"7\" y1=\"8\" x2=\"5.5\" y2=\"9.5\" />\n\t\t\t\t\t\t\t  <polyline points=\"16 12 21 17 17 21 12 16\" />\n\t\t\t\t\t\t\t  <line x1=\"16\" y1=\"17\" x2=\"14.5\" y2=\"18.5\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Assembly</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"request-category-container\" onClick={(e)=>{addCategoryHighlight(e)}}>\n\t\t\t\t\t\t<div className=\"request-category-image\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-package\" width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#ffbf00\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <polyline points=\"12 3 20 7.5 20 16.5 12 21 4 16.5 4 7.5 12 3\" />\n\t\t\t\t\t\t\t  <line x1=\"12\" y1=\"12\" x2=\"20\" y2=\"7.5\" />\n\t\t\t\t\t\t\t  <line x1=\"12\" y1=\"12\" x2=\"12\" y2=\"21\" />\n\t\t\t\t\t\t\t  <line x1=\"12\" y1=\"12\" x2=\"4\" y2=\"7.5\" />\n\t\t\t\t\t\t\t  <line x1=\"16\" y1=\"5.25\" x2=\"8\" y2=\"9.75\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"request-category-label\">Other</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"request-delivery-btn-container\">\n\t\t\t\t\t<div className=\"request-delivery-btn\" onClick={formValidation}>Make Request</div>\n\t\t\t\t\t<div className=\"request-cancel-btn\" onClick={closeRequestModal}>Cancel</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default RequestModal; ","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport app from \"../firebase.js\";\nimport history from '../history.js';\nimport {useState} from \"react\";\nimport RequestModal from \"./RequestModal.js\";\n\n\nfunction Header (props) {\n\n\tconst [showRequestModal, setShowRequestModal] = useState(false);\n\n\tconst openRequestModal = ()=>{\n\t\tconsole.log(props);\n\t\tsetShowRequestModal(true);\n\t};\n\n\tconst logOut = () => {\n\t\tapp.auth().signOut().then(() => {\n\t\t  console.log(\"Successful log out!\");\n\t\t  history.push(\"/login\");\n\t\t}).catch((error) => {\n\t\t  console.error(\"Error in logging out:\"+error);\n\t\t});\n\t};\n\n\t/*\n\t<div className=\"inbox\">\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-mailbox\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#000000\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t  <path d=\"M10 21v-6.5a3.5 3.5 0 0 0 -7 0v6.5h18v-6a4 4 0 0 0 -4 -4h-10.5\" />\n\t\t  <path d=\"M12 11v-8h4l2 2l-2 2h-4\" />\n\t\t  <path d=\"M6 15h1\" />\n\t\t</svg>\n\t</div>\n\t*/\n\n\treturn (\n\t\t<div className=\"Header\">\n\t\t\t{\n                showRequestModal ? <RequestModal user={props.user} setShowRequestModal={setShowRequestModal}/>:null\n            }\n\t\t\t<Link to={\"/home\"} className=\"link\"><div className=\"title\">Volunteer.Me</div></Link>\n\t\t\t<div className=\"header-btn-container\">\n\t\t\t\t<div className=\"request-help-btn\" onClick={openRequestModal}> Request Help</div>\n\t\t\t\t<Link to={\"/chat\"} className=\"link\">\n\t\t\t\t\t<div className=\"chat\">\t\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-messages\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#000000\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t  <path d=\"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10\" />\n\t\t\t\t\t\t  <path d=\"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<Link to={\"/leaderboard\"}>\n\t\t\t\t\t<div className=\"profile-btn\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-user\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#000000\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <circle cx=\"12\" cy=\"7\" r=\"4\" />\n\t\t\t\t\t\t\t  <path d=\"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\n\t\t\t\t<div className=\"log-out\" onClick={logOut}>Log Out</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Header;","import React, { useRef, useEffect, useState } from 'react';\n//import ReactDOM from 'react-dom';\n\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl-csp';\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport MapboxWorker from 'worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker';\n\n\nfunction MapImage(props){\n\n\tconst mapContainer = useRef();\n\tconst [lng, setLng] = useState(-122.44);\n\tconst [lat, setLat] = useState(37.76);\n\tconst [zoom, setZoom] = useState(11.8);\n\n\tmapboxgl.workerClass = MapboxWorker;\n\tmapboxgl.accessToken = 'pk.eyJ1IjoidGltb3RoeWxpbmcxOTk0IiwiYSI6ImNrbmZuOWFtbzFtM2YycG1pbTJkeWIwOXQifQ.Yhzp9YEOq_oqZPXQ28jKaw';\n\n\n\tuseEffect(()=>{\n\t\t\tconst map = new mapboxgl.Map({\n\t\t\t\t\tcontainer: mapContainer.current,\n\t\t\t\t\tstyle: 'mapbox://styles/mapbox/streets-v11',\n\t\t\t\t\tcenter: [lng, lat],\n\t\t\t\t\tzoom: zoom\n\t\t\t});\n\t\t\t\n\t\t\tif(props.requests.length > 0)\n\t\t\t{\n\t\t\t\tmap.on('load',function(){\n\n\t\t\t\t\tlet featuresArr = [];\n\n\t\t\t\t\tprops.requests.forEach((request)=>{\n\t\t\t\t\t\tfeaturesArr.push({\n\t\t\t\t\t\t\ttype: 'Feature',\n\t\t\t\t\t\t    geometry: {\n\t\t\t\t\t\t      type: 'Point',\n\t\t\t\t\t\t      coordinates: request.coords\n\t\t\t\t\t\t    },\n\t\t\t\t\t\t    properties: {\n\t\t\t\t\t\t      title: request.taskName,\n\t\t\t\t\t\t      description: request.location,\n\t\t\t\t\t\t      entryId:request.entryId,\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\n\t\t\t\t\tlet geojson = {\n\t\t\t\t\t  type: 'FeatureCollection',\n\t\t\t\t\t  features: featuresArr\n\t\t\t\t\t};\n\n\t\t\t\t\tgeojson.features.forEach(function(marker){\n\t\t\t\t\t\tlet el = document.createElement('div');\n\t\t\t\t\t\tel.setAttribute(\"id\",\"marker-\"+marker.properties.entryId);\n\t\t\t\t\t\tel.className=\"marker\";\n\t\t\t\t\t\tel.addEventListener(\"click\",function(e){\n\t\t\t\t\t\t\tprops.setScrollToEntry([e.target.id]);\n\t\t\t\t\t\t});\n\t\t\t\n\t\t\t\t\t\tnew mapboxgl.Marker(el)\n\t\t\t\t\t\t  .setLngLat(marker.geometry.coordinates)\n\t\t\t\t\t\t  .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups\n\t\t\t\t\t\t    .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))\n\t\t\t\t\t\t  .addTo(map);\n\t\t\t\t\t})\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmap.on('move', () => {\n\t\t\t\tsetLng(map.getCenter().lng.toFixed(4));\n\t\t\t\tsetLat(map.getCenter().lat.toFixed(4));\n\t\t\t\tsetZoom(map.getZoom().toFixed(2));\n\t\t\t});\n\n\n\t\t\treturn () => {\n\t\t\t\tif(map !== undefined) {\n\t\t\t\t\tmap.remove()\n\t\t\t\t}\n\t\t\t};\n\n\n\t},[props.requests]);\n\n\treturn(\n\t\t<div>\n\t\t\t<div className=\"display\">lat:{lat} long:{lng} zoom:{zoom}</div>\n\t\t\t<div className=\"MapImage\" ref={mapContainer}></div>\n\t\t</div>\n\t);\n}\n\nexport default MapImage;","import firebase from 'firebase/app'\nimport { withRouter } from \"react-router-dom\";\nimport {ToastContainer,toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nfunction EntryModal (props) {\n\n\tlet location = \"\";\n\tlet posted_date = \"\";\n\tlet volunteer_date = \"\";\n\tlet taskName=\"\";\n\tlet posterId=\"\";\n\tlet entryId=\"\";\n\tlet volunteers_accepted = 0;\n\tlet volunteers_needed = 0;\n\tlet entry_status=\"\";\n\tlet volunteersArr = [];\n\n\tconsole.log(props.currentUser.currentUser.uid);\n\n\tconst invalid_form = (message) => toast.error(message, {\n\t\tposition: \"top-right\",\n\t\tautoClose: 3000,\n\t\thideProgressBar: false,\n\t\tcloseOnClick: true,\n\t\tdraggable: true,\n\t\tprogress: undefined,\n\t});\n\n\tlet styles = {\n\t\tfontSize: '20px',\n\t\tfontFamily: 'Noto Sans, sans-serif',\n\t}\n\n\tconst initValues = () => {\n\t\tconsole.log(\"initValues\");\n\t\tconsole.log(props.currentEntryId);\n\t\tfor(let i =0; i< props.requests.length;i++)\n\t\t{\n\t\t\tif(props.requests[i].entryId === props.currentEntryId)\n\t\t\t{\n\t\t\t\tlocation = props.requests[i].location;\n\t\t\t\tposted_date = props.requests[i].posted_date;\n\t\t\t\tvolunteer_date = props.requests[i].date;\n\t\t\t\ttaskName=props.requests[i].taskName;\n\t\t\t\tposterId=props.requests[i].posterId;\n\t\t\t\tentryId = props.requests[i].entryId;\n\t\t\t\tvolunteers_accepted = props.requests[i].volunteers_accepted;\n\t\t\t\tvolunteers_needed = props.requests[i].volunteers_needed;\n\t\t\t\tentry_status = props.requests[i].status;\n\t\t\t\tvolunteersArr = [...props.requests[i].volunteerId];\n\t\t\t}\n\t\t}\n\t};\n\n\tconst closeEntryModal = () => {\n\t\tprops.closeEntryModal();\n\t};\n\n//have to group volunteerIds for multiple volunteers\n\n\tconst acceptEntry = () => {\n\n\t\tlet status = \"\";\n\n\t\tif(entry_status === \"filled\")\n\t\t{\n\t\t\tinvalid_form('All volunteer spots have been already filled!');\n\t\t}\n\t\telse if(volunteersArr.includes(props.currentUser.currentUser.uid))\n\t\t{\n\t\t\tinvalid_form('You already accepted this task!');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(volunteers_accepted+1 === volunteers_needed)\n\t\t\t{\n\t\t\t\tstatus=\"filled\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstatus=\"open\";\n\t\t\t}\n\n\n\t\t\tlet temp = [...volunteersArr];\n\t\t\ttemp.push(props.currentUser.currentUser.uid);\n\n\t\t\tconsole.log(status);\n\t\t\tconsole.log(volunteers_accepted);\n\t\t\tconsole.log(temp);\n\n\t\t\tfirebase.firestore().collection('requests').doc(props.currentEntryId).update({\n\t\t\t\t\n\t\t\t\tstatus:status,\n\t\t\t\tvolunteers_accepted: volunteers_accepted + 1,\n\t\t\t\tvolunteerId:temp,\n\n\t\t\t}).then(()=>{\n\t\t\t\tconsole.log(\"Document successfully updated.\");\n\t\t\t}).catch((error)=>{\n\t\t\t\tconsole.error(\"Error updating document: \", error);\n\t\t\t});\n\n\t\t\tfirebase.firestore().collection('users').doc(props.currentUser.currentUser.uid).collection('my_tasks').doc().set({\n\t\t\t\t\n\t\t\t\trequestId: props.currentEntryId,\n\t\t\t\trequestsRef: firebase.firestore().doc(\"requests/\"+props.currentEntryId)\n\n\t\t\t});\n\n\t\t\tcloseEntryModal();\n\t\t}\n\n\t\n\n\t};\n\tconst addChat = () =>{\n\n\t\tif(posterId === props.currentUser.currentUser.uid)\n\t\t{\n\t\t\tinvalid_form(\"Can't start a chat with yourself!\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet docRef = firebase.firestore().collection('users').doc(props.currentUser.currentUser.uid).collection('my_chats').doc(entryId);\n\n\t\t\tdocRef.get().then((doc)=>{\n\t\t\t\tif(doc.exists)\n\t\t\t\t{\n\t\t\t\t\t//console.log(\"you already are in communication with organizer!\");\n\t\t\t\t\tinvalid_form(\"You are already in communication with organizer!\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfirebase.firestore().collection('users').doc(props.currentUser.currentUser.uid).collection('my_chats').doc(entryId).set({\n\t\t\t\t\t\tposterId: posterId,\n\t\t\t\t\t\tvolunteerId:props.currentUser.currentUser.uid,\n\t\t\t\t\t});\n\n\t\t\t\t\tfirebase.firestore().collection('users').doc(posterId).collection('my_chats').doc(entryId).set({\n\t\t\t\t\t\tposterId: posterId,\n\t\t\t\t\t\tvolunteerId:props.currentUser.currentUser.uid,\n\t\t\t\t\t});\n\n\t\t\t\t\tprops.history.push(\"/chat\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t};\n\n\tinitValues();\n\t\n\n\treturn (\n\t\t<div className=\"EntryModal\">\n\t\t\t<ToastContainer style={styles}/>\n\t\t\t<div className=\"modal-container\">\n\t\t\t\t<div className=\"modal-taskName\">{taskName}</div>\n\t\t\t\t<div className=\"modal-location\">{location}</div>\n\t\t\t\t<div className=\"modal-date-container\">\n\t\t\t\t\t<div className=\"modal-date-posted\">posted: {posted_date}</div>\n\t\t\t\t\t<div className=\"modal-volunteer-date\"> date: {volunteer_date}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"entry-status-details\">\n\t\t\t\t\t<div className=\"entry-status\">Volunteers {entry_status}</div> : \t\n\t\t\t\t\t<div className=\"entry-volunteer-num\">{volunteers_accepted}/{volunteers_needed} Volunteers Needed</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"modal-btn-container\">\n\t\t\t\t\t<div className=\"modal-submit-btn\" onClick={acceptEntry}>I Volunteer</div>\n\t\t\t\t\t<div className=\"modal-chat-btn\" onClick={addChat}>Chat with Organizer</div>\n\t\t\t\t\t<div className=\"modal-cancel-btn\" onClick={closeEntryModal}>Cancel</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(EntryModal); ","import React,{useRef,useEffect} from \"react\";\nimport firebase from 'firebase/app'\n\nconst Paypal = (props) => {\n\n\tconst paypal = useRef(); \n\n\tuseEffect(()=>{\n\t\twindow.paypal.Buttons({\n\t\t\tcreateOrder: (data,actions,err)=>{\n\t\t\t\treturn actions.order.create({\n\t\t\t\t\tintent:\"CAPTURE\",\n\t\t\t\t\tpurchase_units: [\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tdescription: \"Test\",\n\t\t\t\t\t\t\tamount: {\n\t\t\t\t\t\t\t\tcurrency_code: \"USD\",\n\t\t\t\t\t\t\t\tvalue: props.donationAmount,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tonApprove: async (data,actions)=>{\n\t\t\t\tawait actions.order.capture();\n\t\t\t\t//\n\n\t\t\t\t/*\n\t\t\t\tvar docRef = firebase.collection(\"users\").doc(props.currentUser.uid);\n\n\t\t\t\tdocRef.get().then((doc) => {\n\t\t\t\t    if (doc.exists) {\n\t\t\t\t        console.log(\"Document data:\", doc.data());\n\t\t\t\t    } else {\n\t\t\t\t        // doc.data() will be undefined in this case\n\t\t\t\t        console.log(\"No such document!\");\n\t\t\t\t    }\n\t\t\t\t}).catch((error) => {\n\t\t\t\t    console.log(\"Error getting document:\", error);\n\t\t\t\t});*/\n\n\n\n\t\t\t\t/*firebase.firestore().collection(\"users\").doc(props.currentUser.uid).collection(\"donations_raised\").add({\n\t\t\t\t\tdonations_raised: \n\t\t\t\t});*/\n\t\t\t\tconsole.log(props.currentUser.currentUser.uid);\n\t\t\t\tvar docRef = firebase.firestore().collection(\"users\").doc(props.currentUser.currentUser.uid);\n\t\t\t\tdocRef.get().then((doc) => {\n\t\t\t\t    if (doc.exists) {\n\t\t\t\t        console.log(\"Document data:\", doc.data());\n\t\t\t\t        let document_data = doc.data();\n\t\t\t\t        firebase.firestore().collection(\"users\").doc(props.currentUser.currentUser.uid).set({\n\t\t\t\t\t\t\tdonations_raised: (document_data.donations_raised + props.donationAmount),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconsole.log(props.currentTask);\n\n\t\t\t\t\t\tfirebase.firestore().collection('requests').doc(props.currentTask).update({\n\t\t\t\t\t\t\tcompleted: true,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tprops.setDisplayCompletionModal(false)\n\t\t\t\t        //console.log(document_data.donations_raised);\n\t\t\t\t    } else {\n\t\t\t\t        // doc.data() will be undefined in this case\n\t\t\t\t        console.log(\"No such document!\");\n\t\t\t\t    }\n\t\t\t\t}).catch((error) => {\n\t\t\t\t    console.log(\"Error getting document:\", error);\n\t\t\t\t});\n\t\t\t},\n\t\t\tonError: (err)=>{\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}).render(paypal.current);\n\t},[]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div ref={paypal}></div>\n\t\t</div>\n\t);\n\n};\n\nexport default Paypal;","import React from \"react\";\nimport firebase from 'firebase/app'\nimport Paypal from \"./Paypal.js\";\n\nconst ConfirmCompletionModal = (props) => {\n\n\t//const [isDonating,setIsDonating] = useState(false);\n\n\tconst completeTask = () => { \n\n\t\tfirebase.firestore().collection('requests').doc(props.currentTaskCompletedEntry.entryId).update({\n\t\t\tcompleted: true,\n\t\t});\n\n\t\tprops.setDisplayCompletionModal(false)\n\t};\t\n\n\t//<Paypal currentUser={props.currentUser} currentTask = {props.currentTaskCompletedEntry.entryId} donationAmount={props.currentTaskCompletedEntry.donation} setDisplayCompletionModal={props.setDisplayCompletionModal}/>\n\n\treturn (\n\t\n\t\t<div className=\"ConfirmCompletionModal\">\n\t\t\t<div className=\"ConfirmCompletionContainer\">\n\t\t\t\t<div className=\"confirm-header\">Confirm the completion of this task</div>\n\t\t\t\t<div className=\"modal-taskName\">{props.currentTaskCompletedEntry.taskName}</div>\n\t\t\t\t<div className=\"modal-location\">{props.currentTaskCompletedEntry.location}</div>\n\t\t\t\t<div className=\"charity-container\">\n\t\t\t\t\t{\n\t\t\t\t\t\tprops.currentTaskCompletedEntry.isDonating ? \n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"modal-donation-amount\">${props.currentTaskCompletedEntry.donation}</div>\n\t\t\t\t\t\t\t\t<Paypal currentUser={props.currentUser} currentTask = {props.currentTaskCompletedEntry.entryId} donationAmount={props.currentTaskCompletedEntry.donation} setDisplayCompletionModal={props.setDisplayCompletionModal}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"confirm-btn-row\">\n\t\t\t\t\t{props.currentTaskCompletedEntry.isDonating ? null : <div className=\"confirm-completion-btn\" onClick={()=>{completeTask()}}>Confirm</div>}\n\t\t\t\t\t<div className=\"cancel-completion-btn\" onClick={()=>{props.setDisplayCompletionModal(false)}}>Cancel</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ConfirmCompletionModal;","import React from \"react\";\nimport {useState,useEffect} from \"react\";\nimport EntryModal from \"./EntryModal.js\";\nimport ConfirmCompletionModal from \"./ConfirmCompletionModal.js\";\n\nfunction TaskPanel (props) {\n\n\tconst [displayPanelTab,setDisplayPanelTab] = useState(0);\n\n\tconst [requestAttributes,setRequestAttributes] = useState([\"requests-label\"]);\n\tconst [myRequestsAttributes,setMyRequestsAttributes] = useState([\"my-requests-label\"]);\n\tconst [myTasksAttributes,setMyTasksAttribute] = useState([\"my-tasks-label\"]);\n\n\tconst [displayEntryModal,setDisplayEntryModal] = useState(false);\n\tconst [currentEntryId,setCurrentEntryId] = useState(\"\");\n\tconst [currentTaskCompletedEntry,setCurrentTaskCompletedEntry] = useState(\"\");\n\tconst [requests,setRequests] = useState([]);\n\t\n\tconst [toggleSortByDate,setToggleSortByDate] = useState(false);\n\tconst [toggleSortByVolunteerDate,setToggleSortByVolunteerDate] = useState(true);\n\tconst [displayCompletionModal,setDisplayCompletionModal] = useState(false);\n\n\tconst setDisplayPanel = (value) => {\n\t\tsetDisplayPanelTab(value);\n\t};\n\n\tconst highlightDiv = () => {\n\n\t\tif(displayPanelTab === 0)\n\t\t{\n\t\t\tsetRequestAttributes([\"requests-label\",\"highlight\"]);\n\t\t\tsetMyRequestsAttributes([\"my-requests-label\"]);\n\t\t\tsetMyTasksAttribute([\"my-tasks-label\"]);\n\t\t}\n\t\telse if(displayPanelTab === 1)\n\t\t{\n\t\t\tsetRequestAttributes([\"requests-label\"]);\n\t\t\tsetMyRequestsAttributes([\"my-requests-label\",\"highlight\"]);\n\t\t\tsetMyTasksAttribute([\"my-tasks-label\"]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsetRequestAttributes([\"requests-label\"]);\n\t\t\tsetMyRequestsAttributes([\"my-requests-label\"]);\n\t\t\tsetMyTasksAttribute([\"my-tasks-label\",\"highlight\"]);\n\t\t}\n\t};\n\n\tconst openEntryModal = (entryId) => {\n\t\tsetCurrentEntryId(entryId);\n\t\tsetDisplayEntryModal(true);\n\t};\t\n\n\tconst closeEntryModal = () => {\n\t\tsetDisplayEntryModal(false);\n\t};\n\n\tconst setScrollPosition = () => {\n\t\t\n\t\tconst panel = document.querySelector(\".TaskPanel\");\n\t\tconst panelEntryId = props.scrollToEntry[0].substring(7,);\n\t\tconst entryDiv = document.getElementById(panelEntryId);\n\n\t\t//double check this\n\t\tif(entryDiv !== null)\n\t\t{\n\t\t\tpanel.scrollTop = entryDiv.offsetTop-(entryDiv.offsetHeight);\n\n\t\t\tentryDiv.classList.add(\"temp-highlight\");\n\t\t\tsetTimeout(function(){\n\t\t\t\tentryDiv.classList.remove(\"temp-highlight\")\n\t\t\t},1000);\n\t\t}\n\n\t};\n\n\t//sorting array uses same array reference, which doesn't cause react re-render. You need to use spread operator to create new reference\n\n\tconst sortByDate = () => {\n\n\t\tif(props.requests.length !== 0)\n\t\t{\n\t\t\tif(toggleSortByDate)\n\t\t\t{\n\t\t\t\tlet arr = [];\n\t\t\t\tif(displayPanelTab === 0)\n\t\t\t\t{\n\t\t\t\t\tarr = props.requests;\n\t\t\t\t}\n\t\t\t\telse if (displayPanelTab === 1)\n\t\t\t\t{\n\t\t\t\t\tarr = props.myRequests;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tarr = props.myTasks;\n\t\t\t\t}\n\t\n\t\t\t\tconst sortedRequests = [...arr].sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t\tsetToggleSortByDate((prev)=> !prev);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet arr = [];\n\t\t\t\tif(displayPanelTab === 0)\n\t\t\t\t{\n\t\t\t\t\tarr = props.requests;\n\t\t\t\t}\n\t\t\t\telse if (displayPanelTab === 1)\n\t\t\t\t{\n\t\t\t\t\tarr = props.myRequests;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tarr = props.myTasks;\n\t\t\t\t}\n\t\t\t\tconst sortedRequests = [...arr].sort((a,b)=> new Date(a.posted_date) - new Date(b.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t\tsetToggleSortByDate((prev)=> !prev);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst sortByVolunteerDate = () => {\n\t\tif(props.requests.length !== 0)\n\t\t{\n\t\t\tif(toggleSortByVolunteerDate)\n\t\t\t{\n\n\t\t\t\tlet arr = [];\n\t\t\t\tconsole.log(displayPanelTab);\n\t\t\t\tif(displayPanelTab === 0)\n\t\t\t\t{\n\t\t\t\t\tarr = props.requests;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if (displayPanelTab === 1)\n\t\t\t\t{\n\t\t\t\t\tarr = props.myRequests;\n\t\t\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconsole.log(displayPanelTab);\n\t\t\t\t\tarr = props.myTasks;\n\t\t\t\t}\n\n\t\t\t\tconst sortedRequests = [...arr].sort((a,b)=> new Date(b.date) - new Date(a.date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t\tsetToggleSortByVolunteerDate((prev)=> !prev);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet arr = [];\n\t\t\t\tif(displayPanelTab === 0)\n\t\t\t\t{\n\t\t\t\t\tarr = props.requests;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse if (displayPanelTab === 1)\n\t\t\t\t{\n\t\t\t\t\tarr = props.myRequests;\n\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tarr = props.myTasks;\n\t\t\t\t}\n\n\t\t\t\tconst sortedRequests = [...arr].sort((a,b)=> new Date(a.date) - new Date(b.date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t\tsetToggleSortByVolunteerDate((prev)=> !prev);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst showAllCategories = () => {\n\t\tif(props.requests.length !== 0)\n\t\t{\n\t\t\tlet arr = [];\n\t\t\tif(displayPanelTab === 0)\n\t\t\t{\n\t\t\t\tarr = props.requests;\n\t\t\t}\n\t\t\telse if (displayPanelTab === 1)\n\t\t\t{\n\t\t\t\tarr = props.myRequests;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tarr = props.myTasks;\n\t\t\t}\n\t\t\tconst sortedRequests = [...arr].sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\tsetRequests(sortedRequests);\n\t\t\tsetToggleSortByDate((prev)=> !prev);\n\t\t\tdocument.querySelector(\".category-filter-container\").style.backgroundColor = \"#ffec00\";\n\t\t\tdocument.querySelector(\".category-filter\").innerHTML = \"Filter by Category\";\n\t\t}\n\t}\n\n\tconst filterCategory = (category) => {\n\t\n\t\tif(category === 'Groceries' || category==='Medicine'|| category==='Dog Walking' || category ==='Transportation' || category==='Assembly' || category==='Other')\n\t\t{\n\n\t\t\tif(props.requests.length !== 0)\n\t\t\t{\n\t\t\t\tlet arr = [];\n\t\t\t\tif(displayPanelTab === 0)\n\t\t\t\t{\n\t\t\t\t\tarr = props.requests;\n\t\t\t\t}\n\t\t\t\telse if (displayPanelTab === 1)\n\t\t\t\t{\n\t\t\t\t\tarr = props.myRequests;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tarr = props.myTasks;\n\t\t\t\t}\n\t\t\t\tconst filteredRequests = [...arr].filter(request=>request.category === category);\n\t\t\t\tsetRequests(filteredRequests);\t\n\t\t\t\tdocument.querySelector(\".category-filter-container\").style.backgroundColor = \"#7bc62d\";\n\t\t\t\tdocument.querySelector(\".category-filter\").innerHTML = \"Filtered By:\" + category;\n\t\t\t}\n\t\t}\n\n\n\t};\n\n\n\n\tuseEffect(()=>{\n\t\tif(props.scrollToEntry.length !== 0)\n\t\t{\n\t\t\tsetScrollPosition();\n\t\t}\n\t},[props.scrollToEntry]);\n\n\tuseEffect(()=>{\n\n\t\thighlightDiv();\n\n\t\tif(props.requests.length !== 0)\n\t\t{\n\n\t\t\tlet arr = [];\n\t\t\tif(displayPanelTab === 0)\n\t\t\t{\n\t\t\t\tarr = props.requests;\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t\telse if (displayPanelTab === 1)\n\t\t\t{\n\t\t\t\tarr = props.myRequests;\n\t\t\t\tconsole.log(arr);\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tarr = props.myTasks;\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t}\n\n\t\tdocument.querySelector(\".category-filter-container\").style.backgroundColor = \"#ffec00\";\n\t\tdocument.querySelector(\".category-filter\").innerHTML = \"Filter by Category\";\n\n\t},[displayPanelTab])\n\n\tuseEffect(()=>{\n\n\t\tif(props.requests.length !== 0)\n\t\t{\n\t\t\tlet arr = [];\n\t\t\tif(displayPanelTab === 0)\n\t\t\t{\n\t\t\t\tarr = props.requests;\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t\telse if (displayPanelTab === 1)\n\t\t\t{\n\t\t\t\tarr = props.myRequests;\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tarr = props.myTasks;\n\t\t\t\tconst sortedRequests = arr.sort((a,b)=> new Date(b.posted_date) - new Date(a.posted_date));\n\t\t\t\tsetRequests(sortedRequests);\n\t\t\t}\n\t\t}\n\n\t},[props.requests,props.myRequests,props.myTasks]);\n\n\n\treturn (\n\t\t<div className=\"TaskPanel\">\n\t\t\t{displayEntryModal ? <EntryModal currentUser={props.currentUser} requests={props.requests} currentEntryId={currentEntryId} closeEntryModal={closeEntryModal}/> : null}\n\t\t\t{displayCompletionModal ? <ConfirmCompletionModal currentUser={props.currentUser} currentTaskCompletedEntry = {currentTaskCompletedEntry} setDisplayCompletionModal={setDisplayCompletionModal}/> : null}\n\t\t\t<div className=\"task-btn-container\">\n\t\t\t\t<div className={requestAttributes.join(\" \")} onClick={()=>{setDisplayPanel(0)}}>All Requests</div>\n\t\t\t\t<div className={myRequestsAttributes.join(\" \")} onClick={()=>{setDisplayPanel(1)}}>My Requests</div>\n\t\t\t\t<div className={myTasksAttributes.join(\" \")} onClick={()=>{setDisplayPanel(2)}}>My Tasks</div>\n\t\t\t</div>\n\t\t\t<div className=\"task-filter-row\">\n\t\t\t\t\t<div className=\"filter-options\" onClick={sortByDate}>Sort by Date Posted</div>\n\t\t\t\t\t<div className=\"filter-options\" onClick={sortByVolunteerDate}>Sort by Volunteer Date</div>\t\n\t\t\t\t\t<div className=\"category-filter-container\">\n\t\t\t\t\t\t<div className=\"category-filter\">Filter by Category</div>\n\t\t\t\t\t\t<div className=\"category-filter-dropdown\">\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{showAllCategories()}}>All</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Groceries\")}}>Groceries</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Medicine\")}}>Medicine</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Dog Walking\")}}>Dog Walking</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Transportation\")}}>Transportation</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Assembly\")}}>Assembly</div>\n\t\t\t\t\t\t\t\t<div className=\"category\" onClick={()=>{filterCategory(\"Other\")}}>Other</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t<div className=\"task-details\">\n\t\t\t\t{displayPanelTab === 0 ? requests.map((entry)=>{\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"entry\" key={entry.entryId} id={entry.entryId} onClick={()=>{openEntryModal(entry.entryId)}}>\n\t\t\t\t\t\t\t<div className=\"entry-taskName-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-taskName\">{entry.taskName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"entry-donation\">{entry.donation_amount > 0 ? \"$\" + entry.donation_amount : \"FREE\"}</div>\n\t\t\t\t\t\t\t<div className=\"entry-location\">{entry.location}</div>\n\t\t\t\t\t\t\t<div className=\"entry-date-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-date-posted\">posted: {entry.posted_date}</div>\n\t\t\t\t\t\t\t\t<div className=\"entry-volunteer-date\"> date: {entry.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{entry.status === \"open\" ? <div className=\"entry-status open\">Volunteers {entry.status}</div> : \n\t\t\t\t\t\t\t<div className=\"entry-status filled\">Volunteers {entry.status}</div>}\n\t\t\t\n\t\t\t\t\t\t\t<div className=\"entry-volunteer-num\">{entry.volunteers_accepted}/{entry.volunteers_needed} Volunteers Needed</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}) : displayPanelTab === 1 ? requests.map((entry)=>{\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"entry\" key={entry.entryId} id={entry.entryId} onClick={()=>{openEntryModal(entry.entryId)}}>\n\t\t\t\t\t\t\t<div className=\"entry-taskName-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-taskName\">{entry.taskName}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"entry-donation\">{entry.donation_amount > 0 ? \"$\" + entry.donation_amount : \"FREE\"}</div>\n\t\t\t\t\t\t\t<div className=\"entry-location\">{entry.location}</div>\n\t\t\t\t\t\t\t<div className=\"entry-date-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-date-posted\">posted: {entry.posted_date}</div>\n\t\t\t\t\t\t\t\t<div className=\"entry-volunteer-date\"> date: {entry.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{entry.status === \"open\" ? <div className=\"entry-status open\">Volunteers {entry.status}</div> : \n\t\t\t\t\t\t\t<div className=\"entry-status filled\">Volunteers {entry.status}</div>}\n\t\t\t\t\t\t\t<div className=\"entry-volunteer-num\">{entry.volunteers_accepted}/{entry.volunteers_needed} Volunteers Needed</div>\n\t\t\t\t\t\t\t<div className=\"task-complete-container\">\n\t\t\t\t\t\t\t\t{entry.completed ? \n\t\t\t\t\t\t\t\t\t<div className=\"task-completed-btn\"> Task Completed! </div> : \n\t\t\t\t\t\t\t\t\t<div className=\"task-complete-btn\" onClick={(e)=>{e.stopPropagation();setCurrentTaskCompletedEntry({entryId:entry.entryId,taskName:entry.taskName,location:entry.location,isDonating:entry.isDonating, donation:entry.donation_amount});setDisplayCompletionModal(true)}}>Task Completed?</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}) : requests.map((entry)=>{ \n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"entry\" key={entry.entryId} id={entry.entryId} onClick={()=>{openEntryModal(entry.entryId)}}>\n\t\t\t\t\t\t\t<div className=\"entry-taskName-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-taskName\">{entry.taskName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"entry-donation\">{entry.donation_amount > 0 ? \"$\" + entry.donation_amount : \"FREE\"}</div>\n\t\t\t\t\t\t\t<div className=\"entry-location\">{entry.location}</div>\n\t\t\t\t\t\t\t<div className=\"entry-date-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-date-posted\">posted: {entry.posted_date}</div>\n\t\t\t\t\t\t\t\t<div className=\"entry-volunteer-date\"> date: {entry.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{entry.status === \"open\" ? <div className=\"entry-status open\">Volunteers {entry.status}</div> : \n\t\t\t\t\t\t\t<div className=\"entry-status filled\">Volunteers {entry.status}</div>}\n\t\t\t\t\t\t\t<div className=\"entry-volunteer-num\">{entry.volunteers_accepted}/{entry.volunteers_needed} Volunteers Needed</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t</div>\n\t)\n};\n\nexport default TaskPanel; ","import React from \"react\";\nimport MapImage from \"./MapImage.js\";\nimport TaskPanel from \"./TaskPanel.js\";\nimport {useState,useEffect} from \"react\";\nimport firebase from 'firebase/app'\n\nfunction Home (props){\n\n\tconst [currentUser, setCurrentUser] = useState(null);\n\tconst [requests, setRequests] = useState([]);\n  \tconst [myRequests,setMyRequests] = useState([]);\n  \tconst [myTasks,setMyTasks] = useState([]);\n  \tconst [scrollToEntry,setScrollToEntry] = useState([]);\n\n\n\tconst callFirestore = () => {\n    \n\t    let query = firebase.firestore().collection('requests');\n\t    query.onSnapshot((snapshot)=>{\n\t      let requestObjArr = [];\n\t      snapshot.forEach((doc)=>{\n\t        let requestObj = doc.data();\n\t        requestObj.entryId = doc.id;\n\t        requestObjArr.push(requestObj);\n\t      });\n\t      setRequests(requestObjArr); \n\t    });\n\n\n\t    let myRequests_query = firebase.firestore().collection('users').doc(currentUser.currentUser.uid).collection('my_requests');\n\t    myRequests_query.onSnapshot((snapshot)=>{\n\t      let myRequestsObjArr = [];\n\t      snapshot.forEach((doc)=>{\n\t      \t\n\t  \t\n\t        //console.log(doc.data().requestsRef);\n\t       \t//console.log(data.requestsRef.path);\n\n\t       let requestId = doc.data().requestId;\n\t       let docRef = firebase.firestore().collection('requests').doc(requestId);\n\t       docRef.get().then((docSnapshot)=>{\n\t       \tif(docSnapshot.exists)\n\t       \t{\t\n\t       \t\tdocRef.onSnapshot((doc)=>{\n\t       \t\n\t       \t\t\tlet requestObj = doc.data();\n\t       \t\t\tlet existingRequest = false;\n\t       \t\t\tlet existingIndex = -1;\n\n\t       \t\t\tfor(let i = 0; i< myRequestsObjArr.length;i++)\n\t       \t\t\t{\n\t       \t\t\t\tif(myRequestsObjArr[i].entryId === requestId)\n\t       \t\t\t\t{\n\t       \t\t\t\t\texistingRequest = true;\n\t       \t\t\t\t\texistingIndex = i;\n\t       \t\t\t\t}\n\t       \t\t\t}\n\n\t       \t\t\trequestObj.entryId = requestId;\n\n\t       \t\t\tif(existingRequest)\n\t       \t\t\t{\t\n\t       \t\t\t\tmyRequestsObjArr[existingIndex] = requestObj\n\t       \t\t\t}\n\t       \t\t\telse\n\t       \t\t\t{\n\t       \t\t\t\tmyRequestsObjArr.push(requestObj);\n\t       \t\t\t}\n\t       \t\t\n\t       \t\t});\n\t       \t}\n\t       });\n\t      });\n\t      setMyRequests(myRequestsObjArr);\n\t    });\n\n\t    let myTasks_query = firebase.firestore().collection('users').doc(currentUser.currentUser.uid).collection('my_tasks');\n\t    myTasks_query.onSnapshot((snapshot)=>{\n\t      let myTasksObjArr = [];\n\t      snapshot.forEach((doc)=>{\n\t        let requestId = doc.data().requestId;\n\t        firebase.firestore().collection('requests').doc(requestId).get().then((doc)=>\n\t        {\n\t          //console.log(doc.data());\n\t          if(doc.exists)\n\t          {\n\t            let requestObj = doc.data();\n\t            requestObj.entryId = requestId;\n\t            myTasksObjArr.push(requestObj);\n\t          }\n\t        })\n\t      });\n\t      setMyTasks(myTasksObjArr);\n\t    });\n\t  \n  };\n\n  useEffect(()=>{\n\n  \tif(props.user !== null) \n  \t{\n  \t\tsetCurrentUser(props.user);\n  \t}\n\n  },[props.user]);\n\n  useEffect(()=>{\n\n  \tif(currentUser !== null)\n  \t{\n  \t\tconsole.log(\"calling firestore\");\n  \t\tcallFirestore();\n  \t}\n\n  },[currentUser]);\n\n\n\treturn (\n\t\t<div className=\"Home\">\n\t        <TaskPanel currentUser={currentUser} requests={requests} myRequests={myRequests} myTasks={myTasks} scrollToEntry={scrollToEntry}/>\n\t        <MapImage requests={requests} setScrollToEntry={setScrollToEntry}/>\n\t    </div>\n\t);\n};\n\nexport default Home;","import React from \"react\";\nimport {useState,useEffect,useRef} from \"react\";\nimport firebase from 'firebase/app'\nimport uniqid from \"uniqid\";\n\nconst Chat = (props) => {\n\n\tconst [chatGroups, setChatGroups] = useState([]);\n\tconst [showChat,setShowChat]=useState([false]);\n\tconst [currentChat,setCurrentChat]=useState({});\n\tconst [currentChatMessages,setCurrentChatMessages] = useState([]);\n\tconst [firestoreSnapshot,setFirestoreSnapshot] = useState([]);\n\tconst [componentMounted, setComponentMounted] = useState(false);\n\n\tconst chatGroupRef = useRef([]);\n\tconst messageRef = useRef([]);\n\n\tconst initPanel = () => {\n\n\t\tlet myChats_query = firebase.firestore().collection('users').doc(props.user.currentUser.uid).collection('my_chats');\n\t\tmyChats_query.onSnapshot((snapshot)=>{\n\t\t\t\n\t\t\tchatGroupRef.current = [];\n\n\t\t\tsnapshot.forEach((doc)=>{\n\t\t\t\n\t\t\t\t\tlet requestId = doc.id;\n\t\t\t\t\n\t\t\t\t\tfirebase.firestore().collection('requests').doc(requestId).get().then((doc)=>\n\t\t\t\t\t{\n\n\t\t\t\t\t  if(doc.exists)\n\t\t\t\t\t  {\n\t\t\t\t\t    let requestObj = {...doc.data()};\n\t\t\t\t\t    requestObj.entryId = requestId;\n\t\t\t\t\t    let newRequestArr = [...chatGroupRef.current];\n\t\t\t\t\t    newRequestArr.push(requestObj);\n\t\t\t\t\t    setChatGroups(newRequestArr);\n\t\t\t\t\t    chatGroupRef.current = newRequestArr;\n\t\t\t\t\t  }\n\t\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tconst setCurrentEntry = (event, entryId) => {\n\n\t\tsetShowChat([false]);\n\t\tremoveHighlight();\n\t\thighlightDiv(event);\n\n\t\tchatGroups.forEach((entry)=>{\n\t\t\tif(entry.entryId===entryId)\n\t\t\t{\n\t\t\t\tfirebase.firestore().collection(\"users\").doc(props.user.currentUser.uid).collection(\"my_chats\").doc(entry.entryId).get().then((doc)=>{\n\t\t\t\t\tif(doc.exists){\n\t\t\t\t\t\t//let posterId = doc.data().posterId;\n\t\t\t\t\t\tlet volunteerId = doc.data().volunteerId;\n\t\t\t\t\t\tentry.volunteerId = volunteerId;\n\t\t\t\t\t\tsetCurrentChat(entry);\n\t\t\t\t\t\tsetShowChat([true]);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"No such document!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\t};\n\n\tconst loadMessages = async () => { \n\n\t\tlet query = firebase.firestore().collection('users').doc(props.user.currentUser.uid).collection(\"my_chats\");\n\t\t\n\t\tawait new Promise ((resolve,reject) => {\n\n\t\t\tquery.onSnapshot(async(snapshot)=>{\n\n\t\t\t\tconsole.log(\"query changed\");\n\n\t\t\t\tmessageRef.current = [];\n\n\t\t\t\tconst getAllChatGroups = await Promise.all(snapshot.docs.map(async doc => {\n\n\t\t\t\t\tlet msgQuery = doc.ref.collection('messages').orderBy('timestamp');\n\t\t\t\t\t\n\t\t\t\t\tlet msgQueryResult = await new Promise((resolve,reject)=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tmsgQuery.onSnapshot(async (msgSnapshot)=>{\n\n\t\t\t\t\t\t\tconsole.log(\"msgQuery changed\");\n\t\t\t\t\t\t\tlet messageObj = {};\n\t\t\t\t\t\t\tlet chatGroupId = \"\";\n\n\t\t\t\t\t\t\tmsgSnapshot.docs.map(async msgDoc => {\n\t\t\n\t\t\t\t\t\t\t\tif(messageObj[msgDoc.ref.parent.parent.id])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmessageObj[msgDoc.ref.parent.parent.id].push(msgDoc.data());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\t\n\t\t\t\t\t\t\t\t\tmessageObj[msgDoc.ref.parent.parent.id] = [msgDoc.data()];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchatGroupId = msgDoc.ref.parent.parent.id;\n\n\t\t\t\t\t\t\t\tresolve(2);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlet copyArr = [...messageRef.current];\n\n\t\t\t\t\t\t\tconsole.log(chatGroupId);\n\t\t\t\t\t\t\tconsole.log(copyArr);\n\n\t\t\t\t\t\t\tlet found = false; \n\n\t\t\t\t\t\t\tfor(let i = 0;i<copyArr.length;i++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(copyArr[i][chatGroupId])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfound=true;\n\t\t\t\t\t\t\t\t\tconsole.log(\"found\");\n\t\t\t\t\t\t\t\t\tcopyArr[i] = messageObj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(!found)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcopyArr.push(messageObj);\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tmessageRef.current = copyArr;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(componentMounted);\n\t\t\t\t\t\t\t//if(componentMounted)\n\t\t\t\t\t\t\t//{\n\t\t\t\t\t\t\t\tsetFirestoreSnapshot([...messageRef.current]);\n\t\t\t\t\t\t\t//}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\t\tconsole.log(msgQueryResult);\n\t\t\t\n\t\t\t\t\treturn Promise.resolve(1);\n\t\t\t\t}));\n\n\t\t\t\tresolve(getAllChatGroups);\n\t\t\t});\n\n\t\t});\n        \n\t};\n\n\tconst saveMessage = (e) => {\n\t\tif(e.key===\"Enter\")\n\t\t{\n\n\t\t\tlet message = document.querySelector(\".chat-text-bar\");\n\n\t\t\tlet recipient = \"\";\n\n\t\t\tif(props.user.currentUser.uid === currentChat.posterId)\n\t\t\t{\n\t\t\t\trecipient = currentChat.volunteerId;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trecipient = currentChat.posterId;\n\t\t\t}\n\n\t\t\tif(message.value !== \"\")\n\t\t\t{\n\t\t\t\tfirebase.firestore().collection(\"users\").doc(props.user.currentUser.uid).collection(\"my_chats\").doc(currentChat.entryId).collection('messages').add({\n\t\t\t\t\trecipient: recipient,\n\t\t\t\t\tsender:props.user.currentUser.uid,\n\t\t\t\t\ttext:message.value,\n\t\t\t\t\ttimestamp:firebase.firestore.FieldValue.serverTimestamp()\n\t\t\t\t}).catch(function(error){\n\t\t\t\t\tconsole.error('Error writing new message to database',error);\n\t\t\t\t});\n\n\n\t\t\t\tfirebase.firestore().collection(\"users\").doc(recipient).collection(\"my_chats\").doc(currentChat.entryId).collection('messages').add({\n\t\t\t\t\trecipient: recipient,\n\t\t\t\t\tsender:props.user.currentUser.uid,\n\t\t\t\t\ttext:message.value,\n\t\t\t\t\ttimestamp:firebase.firestore.FieldValue.serverTimestamp()\n\t\t\t\t}).catch(function(error){\n\t\t\t\t\tconsole.error('Error writing new message to database',error);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmessage.value = \"\";\n\t\t}\n\t};\n\n\tconst setScrollHeight = () => {\n\t\tconst chat_window = document.querySelector(\".chat-window-messages\");\n\t\t\n\t\tif(chat_window !== null) {\n\t\t\tchat_window.scrollTop = (chat_window.getBoundingClientRect().height);\n\t\t}\n\n\t};\n\n\tconst highlightDiv = (event) => {\n\n\t\tevent.target.closest(\".entry\").classList.add(\"highlight\");\n\t\t\n\t};\n\n\tconst removeHighlight = () => {\n\t\tconst nodeList = document.querySelectorAll(\".entry\");\n\t\tnodeList.forEach((node)=>{\n\t\t\tif(node.classList.contains(\"highlight\"))\n\t\t\t{\n\t\t\t\tnode.classList.remove(\"highlight\");\n\t\t\t}\n\t\t});\n\t}\n\n\tuseEffect(()=>{\n\t\tsetComponentMounted(true);\n\n\t\treturn () => {\n\t\t\tsetComponentMounted(false);\n\t\t};\n\t},[]);\n\n\tuseEffect(()=>{\n\n\t\tif(props.user !== null)\n\t\t{\n\t\t\tinitPanel();\n\t\t\tloadMessages();\n\t\t}\n\t\n\t},[props.user]);\n\n\n\tuseEffect(()=>{\n\n\t\tif(currentChatMessages.length !== 0)\n\t\t{\n\t\t\tsetScrollHeight();\n\t\t}\n\t},[currentChatMessages]);\n\n\tuseEffect(()=>{\n\n\t\tif(showChat[0])\n\t\t{\n\t\t\tlet found = false;\n\t\t\tfirestoreSnapshot.forEach((obj)=>{\n\t\t\t\tif(obj[currentChat.entryId])\n\t\t\t\t{\n\t\t\t\t\tobj[currentChat.entryId].sort((a,b)=>{\n\t\t\t\n\t\t\t\t\t\treturn (a.timestamp - b.timestamp);\n\t\t\t\t\t});\n\n\t\t\t\t\tsetCurrentChatMessages(obj[currentChat.entryId]);\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found)\n\t\t\t{\n\t\t\t\tsetCurrentChatMessages([]);\n\t\t\t}\n\t\t}\n\t},[showChat]);\n\n\tuseEffect(()=>{\n\n\n\t\tif(firestoreSnapshot.length !== 0)\n\t\t{\n\t\t\tfirestoreSnapshot.forEach((obj)=>{\n\t\t\t\tif(obj[currentChat.entryId])\n\t\t\t\t{\n\t\t\t\t\tobj[currentChat.entryId].sort((a,b)=>{\n\t\t\t\t\t\treturn (a.timestamp - b.timestamp);\n\t\t\t\t\t});\n\n\t\t\t\t\tsetCurrentChatMessages(obj[currentChat.entryId]);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t}\n\n\t},[firestoreSnapshot]);\n\n\n\treturn (\n\n\t\t<div className=\"Chat\">\n\t\t\t<div className=\"chat-panel\">\n\t\t\t\t<div className=\"chat-panel-header\">Chats</div>\n\t\t\t\t<div className=\"chat-groups\">\n\t\t\t\t{chatGroups.map((chatGroup) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"entry\" key={uniqid()} id={chatGroup.entryId} onClick={(e)=>{setCurrentEntry(e,chatGroup.entryId)}}>\n\t\t\t\t\t\t\t<div className=\"entry-taskName-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-taskName\">{chatGroup.taskName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"entry-location\">{chatGroup.location}</div>\n\t\t\t\t\t\t\t<div className=\"entry-date-container\">\n\t\t\t\t\t\t\t\t<div className=\"entry-date-posted\">posted: {chatGroup.posted_date}</div>\n\t\t\t\t\t\t\t\t<div className=\"entry-volunteer-date\"> date: {chatGroup.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{showChat[0] ? \n\t\t\t\t<div className=\"chat-window\">\n\t\t\t\t\t<div className=\"chat-window-top-bar\">\n\t\t\t\t\t\t<div className=\"chat-window-top-bar-user\">{currentChat.entryId}</div>\n\t\t\t\t\t\t<div className=\"chat-window-top-bar-pic\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"chat-window-messages\">\n\t\t\t\t\t\t{currentChatMessages ? currentChatMessages.map((msg)=>{\n\t\t\t\t\t\t\t//let classAttributes = [\"chat-message\"];\n\t\t\t\t\t\t\t//console.log(msg);\n\t\t\t\t\t\t\tif(msg.sender === props.user.currentUser.uid)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"chat-message-row\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t<div className=\"chat-message me\">{msg.text}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"chat-message-row\" key={uniqid()}>\n\t\t\t\t\t\t\t\t\t<div className=\"chat-message him\">{msg.text}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t}):null}\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<input className=\"chat-text-bar\" onKeyDown={(e)=>saveMessage(e)}></input>\n\t\t\t\t</div>\n\t\t\t\t: null}\n\t\t</div>\n\t);\n};\n\nexport default Chat;","import React from \"react\";\nimport {useState,useEffect,useRef} from \"react\";\nimport firebase from 'firebase/app'\n\nconst Leaderboard = (props) => {\n\n\tconst [leaderboardObj, setLeaderboardObj] = useState({});\n\tlet leaderboardRef = useRef({});\n\n\tconst getLeaderBoard = () => {\n\n\t\tlet query = firebase.firestore().collection('users');\n\n\t\tquery.onSnapshot(async(snapshot) => {\n\n\t\t\tsnapshot.docs.map(async (doc) => {\n\n\t\t\t\tlet copyObj = {\n\t\t\t\t\t...leaderboardRef.current\n\t\t\t\t};\n\n\t\t\t\tcopyObj[doc.id] = doc.data();\n\t\t\t\t\n\t\t\t\tleaderboardRef.current = {\n\t\t\t\t\t...copyObj\n\t\t\t\t};\n\n\t\t\t\tsetLeaderboardObj(leaderboardRef.current);\n\n\t\t\t});\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log(leaderboardObj);\n\t},[leaderboardObj]);\n\n\tuseEffect(() => {\n\n\t\tgetLeaderBoard();\n\n\t},[props.user]);\n\n\t/*return (\n\t\t\t\t\t\t<div className=\"leaderboard-container\">\n\t\t\t\t\t\t\t<div className=\"details-container\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-crown\" width=\"68\" height=\"68\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"#6f32be\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t\t  <path d=\"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"name\"> {leaderboardObj[keyName]} </div>\n\t\t\t\t\t\t\t\t<div className=\"charity-amount\">Total Raised for Charity: $8000</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);*/\n\n\treturn(\n\t\t<div className=\"Leaderboard\">\n\t\t\t<div className=\"leaderboard-header\">Leaderboard</div>\n\t\t\t<div>\n\t\t\t{ Object.keys(leaderboardObj).map(function(keyName,keyIndex){\n\t\t\t\treturn(\n\t\t\t\t\t<div className=\"leaderboard-container\">\n\t\t\t\t\t\t<div className=\"details-container\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-crown\" width=\"68\" height=\"68\" viewBox=\"0 0 24 24\" strokeWidth=\"2\" stroke=\"#6f32be\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t  <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t\t\t  <path d=\"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"name\"> {keyName} </div>\n\t\t\t\t\t\t\t<div className=\"charity-amount\">Raised ${leaderboardObj[keyName].donations_raised} for Charity</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t\t</div>\t\t\n\t\t</div>\n\t);\n};\n\nexport default Leaderboard;","import './App.css';\n\nimport { Router, Switch, Route } from \"react-router-dom\";\nimport { AuthContext, AuthProvider } from \"./auth.js\";\nimport history from './history.js';\nimport PrivateRoute from \"./PrivateRoute.js\";\n\nimport Login from \"./components/Login.js\";\nimport Header from \"./components/Header.js\";\nimport Home from \"./components/Home.js\";\nimport Chat from \"./components/Chat.js\";\nimport Leaderboard from \"./components/Leaderboard.js\";\n\nimport uniqid from \"uniqid\";\n\nfunction App() {\n\n  return (\n  \n      <div className=\"App\">\n        <AuthProvider>\n          <Router history={history}>\n            <AuthContext.Consumer>\n            {\n              userContext =>\n\n              <Switch>\n\n                <Route key={uniqid()} path=\"/login\"> \n                  <Login/>\n                </Route>\n\n                <PrivateRoute exact path=\"/chat\" user ={userContext} children={{header: <Header key={uniqid()} user={userContext}/>,chat:<Chat key={uniqid()} user={userContext}/>}}>\n                </PrivateRoute>\n\n                <PrivateRoute exact path=\"/home\" user ={userContext} children={{header: <Header key={uniqid()} user={userContext}/>,home:<Home key={uniqid()} user={userContext}/>}}>\n                </PrivateRoute>\n\n                <PrivateRoute exact path=\"/leaderboard\" user ={userContext} children={{header: <Header key={uniqid()} user={userContext}/>,home:<Leaderboard key={uniqid()} user={userContext}/>}}>\n                </PrivateRoute>\n\n              </Switch>\n            }\n            </AuthContext.Consumer>\n          </Router>  \n        </AuthProvider>\n      </div>  \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}